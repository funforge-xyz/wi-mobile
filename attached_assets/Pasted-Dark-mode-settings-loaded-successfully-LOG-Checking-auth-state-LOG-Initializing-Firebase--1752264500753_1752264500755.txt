Dark mode settings loaded successfully
 LOG  Checking auth state...
 LOG  Initializing Firebase...
 LOG  User authenticated from persistence: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4220936, "longitude": -122.083922}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  User is authenticated, checking additional auth service
 LOG  Auth service confirms authentication
 LOG  User has completed onboarding
 LOG  Loading user data for: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:53.851Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:53.896Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:53.923Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:53.956Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:53.994Z"}
 LOG  User data loaded successfully
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:54.014Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:54.078Z"}
 LOG  FeedScreen: Initializing Firebase...
 LOG  FeedScreen: Firebase initialized successfully
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:54.109Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:54.110Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:54.129Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4220936, "longitude": -122.083922}, "networkId": null, "timestamp": "2025-07-11T20:07:54.173Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:54.194Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:54.243Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:54.263Z"}
 LOG  FeedScreen: Getting user location...
 LOG  📍 getCurrentLocation() called - checking permissions...
 LOG  ✅ Permissions OK, getting current location...
 LOG  📍 Trying best navigation accuracy...
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:54.677Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:54.696Z"}
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:54.725Z"}
 LOG  ✅ Got location (balanced): {"accuracy": 5, "lat": 37.4219983, "lng": -122.084}
 LOG  📍 getCurrentLocation() returning: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  FeedScreen: Location obtained: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  FeedScreen: Loading user connections...
 LOG  FeedScreen: Starting location tracking...
 LOG  🗺️ Requesting location permissions...
 LOG  ✅ Location permission already granted
 LOG  🗺️ Starting location tracking - getting initial position...
 LOG  📍 Attempting to get current location with best navigation accuracy...
 LOG  ✅ Got current location (balanced): {"accuracy": 5, "lat": 37.4219983, "lng": -122.084}
 LOG  📤 Updating initial location in Firestore...
 LOG  📤 updateUserLocationInFirestore() called with coords: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  👤 Authenticated user: caA35UKUg7UwYzT8DRmQHTUpbQK2
 LOG  📶 Getting WiFi network info...
 LOG  📶 WiFi info: {"isConnected": false, "networkId": null}
 LOG  📶 Clearing network info (not connected to WiFi)
 LOG  💾 Updating Firestore document...
 LOG  ✅ User location and network updated in Firestore successfully: {"location": {"latitude": 37.4219983, "longitude": -122.084}, "networkId": null, "timestamp": "2025-07-11T20:07:58.358Z"}
 LOG  ✅ Initial location updated successfully
 LOG  🔄 Starting background location updates... {"accuracy": "BestForNavigation", "distanceInterval": "10 meters", "updateInterval": "10 minutes"}
 WARN  Background location is limited in Expo Go:
On Android, it is not available at all.
On iOS, it works when running in the Simulator.
You can use this API, and all others, in a development build. Learn more: https://expo.fyi/dev-client.
 LOG  ✅ Background location updates started successfully
 LOG  🔄 Starting foreground location updates (5-minute interval)
 LOG  🎯 Location tracking is now active (foreground + background)
 LOG  FeedScreen: Location tracking started successfully
 LOG  📍 getCurrentLocation() called - checking permissions...
 LOG  ✅ Permissions OK, getting current location...
 LOG  📍 Trying best navigation accuracy...
 LOG  ✅ Got location (balanced): {"accuracy": 5, "lat": 37.4219983, "lng": -122.084}
 LOG  📍 getCurrentLocation() returning: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  FeedScreen: Updated location obtained: {"latitude": 37.4219983, "longitude": -122.084}
 LOG  FeedScreen: Loading posts...
 LOG  loadPosts called: {"currentUserLocation": null, "isRefresh": false, "trackingRadius": 0.1}
 LOG  Loading posts: {"currentUserLocation": null, "isRefresh": false}
 LOG  loadFeedPosts called with: {"currentUserId": "caA35UKUg7UwYzT8DRmQHTUpbQK2", "limit": 10}
 LOG  FeedScreen - RAW FETCHED POSTS FROM loadFeedPosts:
